<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<!-- https://electronjs.org/docs/tutorial/security#csp-meta-tag -->
		<meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
	</head>
	<body>
		<script type="text/javascript">
			const { ipcRenderer } = require('electron');
			window.ipcRenderer = ipcRenderer;

			ipcRenderer.once("rendererChannel", (oEvent, sMessage) => {
				window.iRendererId = sMessage;

				const load = require('./assets/load');
				load.workerScripts("database");
				require("./renderer-process/worker/database/databaseConnection").open();
			})
			ipcRenderer.send("windowLoaded");

			// const load = require('./assets/load');
			// load.workerScripts("database");
			// require("./renderer-process/worker/database/databaseConnection.js");
			ipcRenderer.on("shutdownApp", () => {
				require("./renderer-process/worker/database/databaseConnection").close();
				ipcRenderer.send("windowProcessClosed");
			});

			
		</script>
	</body>
</html>